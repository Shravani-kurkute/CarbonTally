<!DOCTYPE html>
<html lang="mr">
<head>
  <meta charset="UTF-8">
  <title>‡§∂‡•á‡§§‡§ï‡§∞‡•Ä ‡§≤‡•â‡§ó‡§ø‡§®</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      font-family: 'Roboto', 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom, #f5f7e9, #e6f2e6);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      min-height: 100vh;
      background-image: url('loginbg.png');
      background-size: cover;
      position: relative;
    }

    body::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('loginbg.png') no-repeat center center/cover;
      opacity: 0.1;
      z-index: -1;
    }

    .login-container {
      background: #fffef7;
      border: 3px solid #a8d5a2;
      border-radiusosus: 15px;
      padding: 30px;
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
      width: 100%;
      max-width: 450px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .login-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(to right, #6cbf6c, #355e3b);
      opacity: 0.8;
    }

    .login-container h1 {
      color: #355e3b;
      margin-bottom: 20px;
      font-size: 2rem;
      font-weight: 700;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .login-container h1::before {
      content: 'üåæ';
      font-size: 2.3rem;
    }

    label {
      display: block;
      margin: 15px 0 5px;
      color: #2f4f2f;
      font-size: 1.2rem;
      font-weight: 600;
      text-align: left;
    }

    input[type="text"], input[type="tel"], input[type="hidden"] {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border: 2px solid #a8d5a2;
      border-radius: 8px;
      font-size: 1rem;
      color: #333;
      background: #f0fff0;
      box-sizing: border-box;
      transition: border-color 0.3s ease;
    }

    input[type="text"]:focus, input[type="tel"]:focus {
      outline: none;
      border-color: #4a8b44;
      box-shadow: 0 0 5px rgba(74, 139, 68, 0.3);
    }

    button {
      margin-top: 15px;
      padding: 12px;
      background: #4a8b44;
      color: #fffef7;
      font-size: 1.2rem;
      font-weight: 600;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
      transition: background 0.3s ease, transform 0.2s ease;
    }

    button:hover {
      background: #355e3b;
      transform: translateY(-2px);
    }

    .back-link {
      margin-top: 20px;
      font-size: 1rem;
      color: #4a8b44;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s ease;
    }

    .back-link:hover {
      color: #355e3b;
      text-decoration: underline;
    }

    .footer {
      margin-top: 20px;
      font-size: 1rem;
      color: #2f4f2f;
      font-weight: 500;
    }

    .keyboard-container {
      margin-top: 10px;
      text-align: left;
    }

    .keyboard-container small {
      font-size: 0.9rem;
      color: #2f4f2f;
    }

    .vk-row {
      margin: 5px 0;
      display: flex;
      flex-wrap: wrap;
      gap: 3px;
    }

    .vk-key {
      display: inline-block;
      background: #e0ffe0;
      border: 1px solid #a8d5a2;
      border-radius: 5px;
      padding: 6px 10px;
      margin: 2px;
      cursor: pointer;
      font-size: 1rem;
      user-select: none;
      transition: background 0.2s ease;
    }

    .vk-key:hover {
      background: #c3e6c3;
    }

    .error {
      color: #d32f2f;
      font-size: 0.9rem;
      margin-top: -10px;
      margin-bottom: 10px;
      display: none;
    }

    @media (max-width: 600px) {
      .login-container {
        padding: 20px;
        max-width: 90%;
      }

      h1 {
        font-size: 1.8rem;
      }

      input[type="text"], input[type="tel"], button {
        font-size: 1rem;
        padding: 10px;
      }

      .vk-key {
        padding: 5px 8px;
        font-size: 0.9rem;
      }
    }
  </style>
</head>
<body>
  <div class="login-container">
    <h1>‡§∂‡•á‡§§‡§ï‡§∞‡•Ä ‡§≤‡•â‡§ó‡§ø‡§®</h1>

    <form action="/new carbon/new_agri/marathi_agri/home.html" method="get">
      <label for="name_en">‡§§‡•Å‡§Æ‡§ö‡§Ç ‡§®‡§æ‡§µ (‡§á‡§Ç‡§ó‡•ç‡§∞‡§ú‡•Ä‡§§ ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡§æ)</label>
      <input type="text" id="name_en" placeholder="‡§â‡§¶‡§æ. Ramrao" required>
      <div id="name-error" class="error">‡§ï‡•É‡§™‡§Ø‡§æ ‡§´‡§ï‡•ç‡§§ ‡§á‡§Ç‡§ó‡•ç‡§∞‡§ú‡•Ä ‡§Ö‡§ï‡•ç‡§∑‡§∞‡•á ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡§æ</div>

      <label for="name_mr">‡§Æ‡§∞‡§æ‡§†‡•Ä‡§§ ‡§®‡§æ‡§µ (‡§¨‡§¶‡§≤ ‡§ï‡§∞‡•Ç ‡§∂‡§ï‡§§‡§æ)</label>
      <input type="text" id="name_mr" name="name" placeholder="‡§∞‡§æ‡§Æ‡§∞‡§æ‡§µ">

      <div class="keyboard-container">
        <small>‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§ï‡•Ä‡§¨‡•ã‡§∞‡•ç‡§° ‡§µ‡§æ‡§™‡§∞‡•Ç‡§® ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡§æ:</small>
        <div id="virtual-keyboard">
          <div class="vk-row">
            <span class="vk-key">‡§Ö</span><span class="vk-key">‡§Ü</span><span class="vk-key">‡§á</span><span class="vk-key">‡§à</span><span class="vk-key">‡§â</span><span class="vk-key">‡§ä</span><span class="vk-key">‡§ã</span><span class="vk-key">‡§è</span><span class="vk-key">‡§ê</span><span class="vk-key">‡§ì</span><span class="vk-key">‡§î</span>
          </div>
          <div class="vk-row">
            <span class="vk-key">‡§ï</span><span class="vk-key">‡§ñ</span><span class="vk-key">‡§ó</span><span class="vk-key">‡§ò</span><span class="vk-key">‡§ô</span><span class="vk-key">‡§ö</span><span class="vk-key">‡§õ</span><span class="vk-key">‡§ú</span><span class="vk-key">‡§ù</span><span class="vk-key">‡§û</span>
          </div>
          <div class="vk-row">
            <span class="vk-key">‡§ü</span><span class="vk-key">‡§†</span><span class="vk-key">‡§°</span><span class="vk-key">‡§¢</span><span class="vk-key">‡§£</span><span class="vk-key">‡§§</span><span class="vk-key">‡§•</span><span class="vk-key">‡§¶</span><span class="vk-key">‡§ß</span><span class="vk-key">‡§®</span>
          </div>
          <div class="vk-row">
            <span class="vk-key">‡§™</span><span class="vk-key">‡§´</span><span class="vk-key">‡§¨</span><span class="vk-key">‡§≠</span><span class="vk-key">‡§Æ</span><span class="vk-key">‡§Ø</span><span class="vk-key">‡§∞</span><span class="vk-key">‡§≤</span><span class="vk-key">‡§µ</span>
          </div>
          <div class="vk-row">
            <span class="vk-key">‡§∂</span><span class="vk-key">‡§∑</span><span class="vk-key">‡§∏</span><span class="vk-key">‡§π</span><span class="vk-key">‡§ï‡•ç‡§∑</span><span class="vk-key">‡§§‡•ç‡§∞</span><span class="vk-key">‡§ú‡•ç‡§û</span>
          </div>
          <div class="vk-row">
            <span class="vk-key">‡§æ</span><span class="vk-key">‡§ø</span><span class="vk-key">‡•Ä</span><span class="vk-key">‡•Å</span><span class="vk-key">‡•Ç</span><span class="vk-key">‡•É</span><span class="vk-key">‡•á</span><span class="vk-key">‡•à</span><span class="vk-key">‡•ã</span><span class="vk-key">‡•å</span><span class="vk-key">‡§Ç</span><span class="vk-key">‡§É</span><span class="vk-key">‡§Å</span>
          </div>
          <div class="vk-row">
            <span class="vk-key">‡•ç</span><span class="vk-key">‡•§</span><span class="vk-key">‡§º</span>
          </div>
        </div>
      </div>

      <label for="mobile_mr">‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤ ‡§ï‡•ç‡§∞‡§Æ‡§æ‡§Ç‡§ï</label>
      <input type="tel" id="mobile_mr" placeholder="‡§â‡§¶‡§æ. ‡•Ø‡•Æ‡•®‡•©‡•¶‡•¶‡•¶‡•¶‡•¶‡•¶" required>
      <input type="hidden" id="mobile_en" name="mobile">
      <div id="mobile-error" class="error">‡§ï‡•É‡§™‡§Ø‡§æ ‡§µ‡•à‡§ß ‡•ß‡•¶ ‡§Ö‡§Ç‡§ï‡§æ‡§Ç‡§ö‡§æ ‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤ ‡§ï‡•ç‡§∞‡§Æ‡§æ‡§Ç‡§ï ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡§æ</div>

      <div class="keyboard-container">
        <small>‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§ï‡•Ä‡§¨‡•ã‡§∞‡•ç‡§° ‡§µ‡§æ‡§™‡§∞‡•Ç‡§® ‡§ï‡•ç‡§∞‡§Æ‡§æ‡§Ç‡§ï ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡§æ:</small>
        <div id="mobile-keyboard">
          <div class="vk-row">
            <span class="vk-key">‡•¶</span><span class="vk-key">‡•ß</span><span class="vk-key">‡•®</span><span class="vk-key">‡•©</span><span class="vk-key">‡•™</span>
            <span class="vk-key">‡•´</span><span class="vk-key">‡•¨</span><span class="vk-key">‡•≠</span><span class="vk-key">‡•Æ</span><span class="vk-key">‡•Ø</span>
          </div>
        </div>
      </div>

      <button type="submit" onclick="validateForm()">‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡§æ</button>
    </form>

    <a href="language.html" class="back-link">‚Üê ‡§™‡§∞‡§§ ‡§≠‡§æ‡§∑‡§æ ‡§®‡§ø‡§µ‡§°‡•Ä‡§µ‡§∞ ‡§ú‡§æ</a>
    <div class="footer">
      ‡§π‡•Ä ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§Ü‡§π‡•á.
    </div>
  </div>

  <script>
    const enInput = document.getElementById("name_en");
    const mrInput = document.getElementById("name_mr");
    const mobileMrInput = document.getElementById("mobile_mr");
    const mobileEnInput = document.getElementById("mobile_en");
    const nameKeys = document.querySelectorAll("#virtual-keyboard .vk-key");
    const mobileKeys = document.querySelectorAll("#mobile-keyboard .vk-key");

    // Marathi digit mapping (same as Hindi, uses Devanagari)
    const digitMap = {
      '0': '‡•¶', '1': '‡•ß', '2': '‡•®', '3': '‡•©', '4': '‡•™',
      '5': '‡•´', '6': '‡•¨', '7': '‡•≠', '8': '‡•Æ', '9': '‡•Ø'
    };
    const reverseDigitMap = Object.fromEntries(
      Object.entries(digitMap).map(([k, v]) => [v, k])
    );

    // Validate English name input
    enInput.addEventListener("input", function() {
      if (/^[a-zA-Z\s]*$/.test(this.value)) {
        document.getElementById("name-error").style.display = "none";
      } else {
        document.getElementById("name-error").style.display = "block";
        this.value = this.value.replace(/[^a-zA-Z\s]/g, "");
      }
    });

    // Transliterate English to Marathi for name
    let nameTimer;
    enInput.addEventListener("input", () => {
      clearTimeout(nameTimer);
      nameTimer = setTimeout(() => {
        const text = enInput.value;
        if (!text.trim()) {
          mrInput.value = "";
          return;
        }

        fetch(`https://inputtools.google.com/request?text=${encodeURIComponent(text)}&itc=mr-t-i0-und&num=1`)
          .then(res => {
            if (!res.ok) throw new Error('Network response was not ok');
            return res.json();
          })
          .then(data => {
            if (data[0] === "SUCCESS") {
              mrInput.value = data[1][0][1][0];
            } else {
              console.error("Transliteration failed:", data);
              mrInput.value = text; // Fallback to original input
            }
          })
          .catch(err => {
            console.error("Transliteration error:", err);
            mrInput.value = text; // Fallback to original input
          });
      }, 500);
    });

    // Convert English digits to Marathi digits for mobile
    mobileMrInput.addEventListener("input", function() {
      const input = this.value;
      let marathiDigits = "";
      let englishDigits = "";
      for (let char of input) {
        if (/[0-9]/.test(char)) {
          marathiDigits += digitMap[char] || char;
          englishDigits += char;
        } else if (reverseDigitMap[char]) {
          marathiDigits += char;
          englishDigits += reverseDigitMap[char];
        }
      }
      this.value = marathiDigits;
      mobileEnInput.value = englishDigits;

      const mobileError = document.getElementById("mobile-error");
      if (/^[‡•¶-‡•Ø]{0,10}$/.test(marathiDigits)) {
        mobileError.style.display = "none";
      } else {
        mobileError.style.display = "block";
      }
    });

    // Virtual keyboard for name
    nameKeys.forEach(key => {
      key.addEventListener("click", () => {
        mrInput.value += key.textContent;
      });
    });

    // Virtual keyboard for mobile
    mobileKeys.forEach(key => {
      key.addEventListener("click", () => {
        if (mobileMrInput.value.length < 10) {
          mobileMrInput.value += key.textContent;
          mobileEnInput.value += reverseDigitMap[key.textContent];
        }
      });
    });

    // Form validation
    function validateForm() {
      const mobileError = document.getElementById("mobile-error");
      const mobileEn = mobileEnInput.value;

      if (!/^[0-9]{10}$/.test(mobileEn)) {
        mobileError.style.display = "block";
        return false;
      } else {
        mobileError.style.display = "none";
        alert("‡§≤‡•â‡§ó‡§ø‡§® ‡§Ø‡§∂‡§∏‡•ç‡§µ‡•Ä! | Login successful!");
        return true;
      }
    }
  </script>
</body>
</html>